<!DOCTYPE html>
<html lang="zh-cn" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.133.0">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="description" content="Discover what this Hugo theme is all about and the core-concepts behind it.">
    <meta name="author" content="Sören Weber">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="http://localhost:1313/images/hero.png">
    <meta name="twitter:title" content="网络技术 :: HaBox 技术支持站">
    <meta name="twitter:description" content="Discover what this Hugo theme is all about and the core-concepts behind it.">
    <meta property="og:url" content="http://localhost:1313/%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/index.html">
    <meta property="og:site_name" content="HaBox 技术支持站">
    <meta property="og:title" content="网络技术 :: HaBox 技术支持站">
    <meta property="og:description" content="Discover what this Hugo theme is all about and the core-concepts behind it.">
    <meta property="og:locale" content="zh_cn">
    <meta property="og:type" content="website">
    <meta property="og:image" content="http://localhost:1313/images/hero.png">
    <meta itemprop="name" content="网络技术 :: HaBox 技术支持站">
    <meta itemprop="description" content="Discover what this Hugo theme is all about and the core-concepts behind it.">
    <meta itemprop="wordCount" content="13">
    <meta itemprop="image" content="http://localhost:1313/images/hero.png">
    <title>网络技术 :: HaBox 技术支持站</title>
    <link href="http://localhost:1313/%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/index.html" rel="canonical" type="text/html" title="网络技术 :: HaBox 技术支持站">
    <link href="../%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/index.xml" rel="alternate" type="application/rss+xml" title="网络技术 :: HaBox 技术支持站">
    <link href="../css/fontawesome-all.min.css?1724502964" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../css/fontawesome-all.min.css?1724502964" rel="stylesheet"></noscript>
    <link href="../css/nucleus.css?1724502964" rel="stylesheet">
    <link href="../css/auto-complete.css?1724502964" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../css/auto-complete.css?1724502964" rel="stylesheet"></noscript>
    <link href="../css/perfect-scrollbar.min.css?1724502964" rel="stylesheet">
    <link href="../css/fonts.css?1724502964" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../css/fonts.css?1724502964" rel="stylesheet"></noscript>
    <link href="../css/theme.css?1724502964" rel="stylesheet">
    <link href="../css/theme-relearn-auto.css?1724502964" rel="stylesheet" id="R-variant-style">
    <link href="../css/chroma-relearn-auto.css?1724502964" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../css/variant.css?1724502964" rel="stylesheet">
    <link href="../css/print.css?1724502964" rel="stylesheet" media="print">
    <link href="../css/format-print.css?1724502964" rel="stylesheet">
    <script src="../js/variant.js?1724502964"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.index_js_url="../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red' ] );
      // translations
      window.T_Copy_to_clipboard = `复制到剪贴板`;
      window.T_Copied_to_clipboard = `复制到剪贴板！`;
      window.T_Copy_link_to_clipboard = `将链接复制到剪贴板`;
      window.T_Link_copied_to_clipboard = `链接复制到剪贴板！`;
      window.T_Reset_view = `重置视图`;
      window.T_View_reset = `查看重置！`;
      window.T_No_results_found = `找不到"{0}"的结果`;
      window.T_N_results_found = `为"{0}"找到 {1} 个结果`;
    </script>
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="导航 (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">网络技术</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../%E8%AE%BE%E5%A4%87%E6%8E%A5%E5%85%A5/index.html" title="设备接入 (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/habox-over-greatwall/index.html" title="Ha盒子配置科学上网 (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">第1章</div>

<h1 id="网络技术">网络技术</h1>

<p>Discover what this Hugo theme is all about and the core-concepts behind it.</p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">网络技术 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="标签" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="../tags/documentation/index.html">Documentation</a></li>
  </ul>
</div>
            </header>

<h1 id="ha盒子配置科学上网">Ha盒子配置科学上网</h1>

<p>前提，你已拥有可以用的梯子（节点），如果没有请参考：</p>
http://localhost:1313/%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF/
<p>加载项商店搜索&quot;加速&quot;，安装它（实际上就是v2raya,很好用的工具）</p>
<p><a href="#R-image-20d98fc0ee6f5eae6514276762132cf3" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/070adbd5eb8a90dc0647ed13a5c1acd21d457be8_2_690x260.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-20d98fc0ee6f5eae6514276762132cf3"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/070adbd5eb8a90dc0647ed13a5c1acd21d457be8_2_690x260.png"></a></p>
<p>安装完后，点启动，配置选项卡可以不用修改默认就行</p>
<p><a href="#R-image-e1762f7dbcf9c3c6c15cf7c74490893e" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/df3fc21234594a0b1260007e57f8a549aebe0075_2_690x347.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e1762f7dbcf9c3c6c15cf7c74490893e"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/df3fc21234594a0b1260007e57f8a549aebe0075_2_690x347.png"></a></p>
<p>打开WEB UI，初次进入需要设置用户名密码，设置后请记好了。</p>
<p>导入节点</p>
<p><a href="#R-image-12d673b94fa1f27c1f4357864a3ce458" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/35f8c5d6d06e839c5d250ccfcda52ad6d65360c3_2_690x201.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-12d673b94fa1f27c1f4357864a3ce458"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/35f8c5d6d06e839c5d250ccfcda52ad6d65360c3_2_690x201.png"></a></p>
<p>然后，选择，启动</p>
<p><a href="#R-image-dccda42a01d892238a15fb31b1c893c0" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/6039b77ac1aa021955fcb987013cbb0505db3e30_2_690x296.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dccda42a01d892238a15fb31b1c893c0"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/6039b77ac1aa021955fcb987013cbb0505db3e30_2_690x296.png"></a></p>
<p>此时，应该就可以用了。开个窗口测试一下
<code>http://homeassistant.local:7681/</code>
进入后输入login 回车
输入curl <a href="https://www.google.com" rel="external" target="_self">www.google.com</a>回车</p>
<p>是不是看到google页面返回的网页源码了？</p>
<p><a href="#R-image-9a787bc9143ddb109600cc947c51502f" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/61122d3118036f0ece49f011ee703944e86ec39a_2_690x307.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9a787bc9143ddb109600cc947c51502f"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/61122d3118036f0ece49f011ee703944e86ec39a_2_690x307.jpeg"></a></p>
<p>如果不行，请检查是不是节点或者订阅连接有问题</p>
<p>关于 v2raya的其他配置，请自行bing。</p>
<p>其他电脑想要科学上网，也可以修改网络配置，将网关设置为HA盒子的ip地址，也能通过HA盒子实现科学上网的梦想。</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="标签" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="../tags/documentation/index.html">Documentation</a></li>
  </ul>
</div>
            </header>

<h1 id="搭建免费科学上网节点">搭建免费科学上网节点</h1>

<h2 id="准备物料">准备物料</h2>
<h2 id="1域名一个">1)域名一个</h2>
<p>推荐到<a href="https://www.namesilo.com/" rel="external" target="_self">namesilo.com</a>注册域名，安全、支持支付宝支付、价格便宜，没有陷阱。</p>
<p>注册6位及以上数字的xyz域名（比如456766.xyz），只要$0.99，续费$0.99，注册+续费它9年才$10不到，不用担心域名过期。这也是仅有的成本，简直不要太安逸了。</p>
<h3 id="2准备好cloudflare账号备用">2)准备好Cloudflare账号备用</h3>
<p>打开https://www.cloudflare.com/zh-cn，通过一个电子邮件地址即可注册Cloudflare账号</p>
<h3 id="3准备代码">3)准备代码</h3>
<p><a href="https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js" rel="external" target="_self">https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js</a></p>
<p><a href="https://4i5i-my.sharepoint.com/:u:/g/personal/sosel_4i5i_onmicrosoft_com/EQr1zW3GUINKptRic9MlSKIBOmUXEukBXOzK6oq-ED0QQQ?e=cTDsBR" rel="external" target="_self">备用地址</a> （如果你打开不github的话，可以试试从onedrive下载worker-vless.js文件）</p>
<h2 id="在cloudflare添加网站">在Cloudflare添加网站</h2>
<p>登陆Cloudflare，然后添加网站，就是将你刚注册的域名添加到这里</p>
<p><a href="#R-image-a7b72f6409e7d1ea6b92d1068f5fcefb" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/b1c3498eee818656643b898a86c72fcd77eaabd3_2_690x259.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a7b72f6409e7d1ea6b92d1068f5fcefb"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/b1c3498eee818656643b898a86c72fcd77eaabd3_2_690x259.png"></a></p>
<p>然后选择<strong>免费</strong>的方案就行，如下图，然后<strong>继续</strong></p>
<p><a href="#R-image-f0a5dc1d1c92a064686f8a768fb565ff" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/90241e3e480226358c120d6be86510c2587b268f_2_690x172.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f0a5dc1d1c92a064686f8a768fb565ff"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/90241e3e480226358c120d6be86510c2587b268f_2_690x172.png"></a></p>
<p>此时我们先不添加DNS，先把域名解析服务器改到Cloudflare，点击左边栏 <strong>DNS</strong>，记下Cloudflare名称服务器地址，你看到的可能和我看到不一定一样，别弄错了。</p>
<p><a href="#R-image-52c5e5eeeede6c07a208e3a13b0b5235" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/619ee5212f9f721c3c60ba3ad41a855f02ccc158_2_690x239.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-52c5e5eeeede6c07a208e3a13b0b5235"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/619ee5212f9f721c3c60ba3ad41a855f02ccc158_2_690x239.png"></a></p>
<p>去域名注册平台后台https://www.namesilo.com/account_domains.php</p>
<p><a href="#R-image-f49ff2d9792a5a2033c2b6955af6c8ca" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/deaa5b81ad3bc0b61f0a99b1b3309a98d8ef4a77_2_690x226.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f49ff2d9792a5a2033c2b6955af6c8ca"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/deaa5b81ad3bc0b61f0a99b1b3309a98d8ef4a77_2_690x226.jpeg"></a></p>
<p>填入Cloudflare的名称服务器地址，然后提交（submit），名称服务器生效可能要等一段时间</p>
<p><a href="#R-image-5f23a96aa851e40da7e354a8bb970dd0" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/73fd0ce7fd47d3e25d5035f6af78106fd531509a_2_690x258.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5f23a96aa851e40da7e354a8bb970dd0"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/73fd0ce7fd47d3e25d5035f6af78106fd531509a_2_690x258.png"></a></p>
<h2 id="创建应用程序">创建应用程序</h2>
<p>回到Cloudflare，导航到<strong>Workers 和 Pages</strong> 创建应用程序</p>
<p><a href="#R-image-1083e5d884a3db5a708649eeace8b0f0" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/6202273f3867236110d6a2a3e9d4a48ba7b52446_2_690x449.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1083e5d884a3db5a708649eeace8b0f0"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/6202273f3867236110d6a2a3e9d4a48ba7b52446_2_690x449.jpeg"></a></p>
<p><a href="#R-image-9ae470243b383f4bba69841f313ae85c" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/04affed533e6f7184b4c7420b8e3e3f2cb46e6b0_2_690x287.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9ae470243b383f4bba69841f313ae85c"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/04affed533e6f7184b4c7420b8e3e3f2cb46e6b0_2_690x287.png"></a></p>
<p>名称可以随意，完了点击部署按钮，代码先不管它</p>
<p><a href="#R-image-7ddeec55aeac4978d2fa632852c58539" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/045bcecb3b15412597fef3db606a8de38b5b7c9e_2_672x500.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7ddeec55aeac4978d2fa632852c58539"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/045bcecb3b15412597fef3db606a8de38b5b7c9e_2_672x500.png"></a></p>
<p>Worker部署成功</p>
<p><a href="#R-image-3872ab35b4a2455bc8bd39fec144cedc" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/d592ffaed5f33e6bc9bdadb89267e73e87d09aeb_2_690x296.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3872ab35b4a2455bc8bd39fec144cedc"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/d592ffaed5f33e6bc9bdadb89267e73e87d09aeb_2_690x296.png"></a></p>
<h2 id="替换脚本代码">替换脚本代码</h2>
<p>点击编辑代码，将https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js代码复制过来，贴到编辑器里面替换原来的内容</p>
<p>修改两个地方：</p>
<p>1，第7行的userID，随便找个UUID替换，<a href="https://www.uuidgenerator.net/version4" rel="external" target="_self">点击这里获取一个 4</a>，注意用version4，否则会报UUID不合法。</p>
<p>2，第9行的proxyIP，可以找前辈们提供的，随便在下面的列表中找一个</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cdn-all.xn--b6gac.eu.org cdn.xn--b6gac.eu.org cdn-b100.xn--b6gac.eu.org edgetunnel.anycast.eu.org cdn.anycast.eu.org</code></pre></div><p><em>userID不用改也行 ，userID记在小本本上以后要用</em></p>
<p>proxyIP<em>我测试了也可以不用改，空着就行</em></p>
<p><strong>保存并部署</strong>（按钮在屏幕右上角）</p>
<h2 id="绑定域名">绑定域名</h2>
<p><a href="#R-image-46df61f40789d789bfa25cdc0f261440" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/42db9218a49c38b1e5fc04f5a965596776ad3be3_2_690x389.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-46df61f40789d789bfa25cdc0f261440"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/42db9218a49c38b1e5fc04f5a965596776ad3be3_2_690x389.png"></a></p>
<p><a href="#R-image-d85d0f156d5d3dcf0735b06c8ed6455b" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/67c86bffc006e2047714fe596cd6d07f63abae6f_2_690x407.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d85d0f156d5d3dcf0735b06c8ed6455b"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/67c86bffc006e2047714fe596cd6d07f63abae6f_2_690x407.png"></a></p>
<p>自定义域前缀可以随意，根据自己需要填写然后点击“添加自定义域”，等一会儿生效后就可以用了。。。</p>
<h2 id="配置科学上网客户端">配置科学上网客户端</h2>
<p>在浏览器地址栏输入你刚配置的自定义域+代码中配置的userID，得到相应的科学上网的配置参数</p>
<p>比如：https://hi.cntv.chat/6efcf080-745f-42c0-a0e6-4b0f9a2f8f1c</p>
<p><a href="#R-image-8a59742b362c4f18357bc7c6481a5985" class="lightbox-link"><img alt="notion image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/a762dcabf2d2ef2fd003f3bec59942c9ae2d21f0_2_690x384.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8a59742b362c4f18357bc7c6481a5985"><img alt="notion image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/a762dcabf2d2ef2fd003f3bec59942c9ae2d21f0_2_690x384.png"></a></p>
<p>复制图上标记的内容，到科学上网工具中通过剪贴板导入或手动输入配置参数，注意协议是VLESS。我PC端用的V2rayA，安卓手机用的V2rayNG</p>
<p>好了，本教程到此结束，快去享受免费、快速的、自由的网络去吧！</p>
<p>若有不明白或遇到什么问题，请给我留言。</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="标签" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="../tags/documentation/index.html">Documentation</a></li>
  </ul>
</div>
            </header>

<h1 id="远程控制homeassistant盒子">远程控制Homeassistant盒子</h1>

<p>出门在外，怎样通过网络控制家里的Homeassistant盒子，这是很多购买HA盒子的朋友关心的问题，那么请跟随我的脚步，来看看我们怎么实现！</p>
<p>话不多说，直接开干！</p>
<h2 id="前提条件">前提条件：</h2>
<ol>
<li>你在cloudflare已经注册了账户</li>
<li>你已经注册了域名并且已将DNS解析服务器修改为Cloudflare提供的服务器地址</li>
<li>你已经拥有哈HA 盒子</li>
</ol>
<h2 id="在homeassistant安装cloudflared加载项">在homeassistant安装Cloudflared加载项</h2>
<p>仓库地址：<code>https://github.com/brenner-tobias/addon-cloudflared</code>
进入加载项商店（配置-加载项-加载项商店），点右上角三个小点，然后点仓库</p>
<p><a href="#R-image-14c320f0a16ebea88b66dd2026fd6d3e" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/cda7a9c64acc4809d8466fe304777fea93f45e0c_2_690x274.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-14c320f0a16ebea88b66dd2026fd6d3e"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/cda7a9c64acc4809d8466fe304777fea93f45e0c_2_690x274.png"></a></p>
<p>输入 <code>https://github.com/brenner-tobias/ha-addons</code>
然后点添加</p>
<p><a href="#R-image-1cdcd21d88d59a22b9ecedea66a63b5f" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/original/1X/147a7a8583cb185a0221b957a9c2f6b56053133a.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1cdcd21d88d59a22b9ecedea66a63b5f"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/original/1X/147a7a8583cb185a0221b957a9c2f6b56053133a.png"></a></p>
<p>添加不成功，这……，需要考虑换个时间再试，或者科学上网</p>
<p><a href="#R-image-45b4727413c9a59cfc1791a74c8dcf00" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/e376bf93b9fe52bdc9b0bcf5d044a071156e8d5a_2_514x500.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-45b4727413c9a59cfc1791a74c8dcf00"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/e376bf93b9fe52bdc9b0bcf5d044a071156e8d5a_2_514x500.jpeg"></a></p>
<p>添加成功后，关闭对话框
重新进入加载项商店，搜索cloudflared，就能看到加载项Cloudflared，点它然后安装
<a href="#R-image-ea94aaacf96fadbd45ca2fd9c6fa3b9c" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://pic.456766.xyz/typora/ef12e66234650b425c567041b7a0baea787a08a9.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ea94aaacf96fadbd45ca2fd9c6fa3b9c"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://pic.456766.xyz/typora/ef12e66234650b425c567041b7a0baea787a08a9.png"></a></p>
<p>安装好之后，进入配置选项卡，配置第一项就行，值为要使用的域名（该域名已添加到cloudflare），然后保存</p>
<p><a href="#R-image-356c879b9558d1e261b3e13d636e5be0" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/e5dba2ce374adb105c3b7fe355b72fb5fd473207_2_690x362.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-356c879b9558d1e261b3e13d636e5be0"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/e5dba2ce374adb105c3b7fe355b72fb5fd473207_2_690x362.png"></a></p>
<p>之后启动该加载项，在日志选项卡里面你将看到如下信息</p>
<p><a href="#R-image-f66f40c65d73a4de119a9442c144b20b" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/81635a3de25d8b41bf0ecbd780d4acf80a205b9b_2_690x325.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f66f40c65d73a4de119a9442c144b20b"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/81635a3de25d8b41bf0ecbd780d4acf80a205b9b_2_690x325.jpeg"></a></p>
<p>拷贝高亮所示的链接地址到浏览器地址栏，并访问。
嗯，点你你需要用来远程访问homeassistant的域名并授权</p>
<p><a href="#R-image-e4c7a864d6cb436fd23603fa0c7b1f86" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/5299cf9db6074dd5a987b7fd1a09eabf25e2e2dc_2_690x275.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e4c7a864d6cb436fd23603fa0c7b1f86"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/5299cf9db6074dd5a987b7fd1a09eabf25e2e2dc_2_690x275.png"></a></p>
<p><a href="#R-image-7064b6479dc6795555ccd3c520ddbf64" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/2f6ccf280e55f2353c3c5bcdfb123f294e229f7d_2_690x167.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7064b6479dc6795555ccd3c520ddbf64"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/2f6ccf280e55f2353c3c5bcdfb123f294e229f7d_2_690x167.png"></a></p>
<p><a href="#R-image-151596f329bbdf0d0928e8bfc86610e6" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/4cc884a49914861d78edabd6e2b7382bf653e112_2_690x139.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-151596f329bbdf0d0928e8bfc86610e6"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/4cc884a49914861d78edabd6e2b7382bf653e112_2_690x139.png"></a></p>
<p>接下来，还有一些事要做</p>
<p>打开连接 <a href="https://one.dash.cloudflare.com/" rel="external" target="_self">https://one.dash.cloudflare.com/</a></p>
<p>导航到左侧边栏 - Networks - Tunnels</p>
<p><a href="#R-image-ebc789914eaccde2ec80a24a57319836" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/c348bb3f2c2797b5d74c8fb875159ddafe531304_2_690x243.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ebc789914eaccde2ec80a24a57319836"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/c348bb3f2c2797b5d74c8fb875159ddafe531304_2_690x243.jpeg"></a></p>
<p>拉到Homeassistant这条记录的最右边，有三个小点，点进去，Configure</p>
<p><a href="#R-image-7aea4a2365b1920d3b675d697bc8aee9" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/4adc7d14223d9a250a0d0885e7fe5564573d6803_2_690x244.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7aea4a2365b1920d3b675d697bc8aee9"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/4adc7d14223d9a250a0d0885e7fe5564573d6803_2_690x244.png"></a></p>
<p>也许你需要点右边三小点，Edit进行编辑</p>
<p><a href="#R-image-88fa333a97ab6abe3cdb824545e0ed9e" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/0205a3d16cfdbcbdea4c711c03cd571168621645_2_690x292.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-88fa333a97ab6abe3cdb824545e0ed9e"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/0205a3d16cfdbcbdea4c711c03cd571168621645_2_690x292.jpeg"></a></p>
<p>最后你可以确认下dns是不是已经自动配置好了</p>
<p><a href="#R-image-f024034bef9431e4a289035a7ade3d3b" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/8b4aa7498406a60ce8d7cb017bb7775b1926e335_2_690x238.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f024034bef9431e4a289035a7ade3d3b"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/8b4aa7498406a60ce8d7cb017bb7775b1926e335_2_690x238.jpeg"></a></p>
<p>接下来在回到HA盒子，安装加载项File Editor（如果还没安装的话）
然后在/homeassistant/configuration.yaml中添加如下内容</p>
<div class="highlight wrap-code"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">http</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">use_x_forwarded_for</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">trusted_proxies</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="m">172.30.33.0</span><span class="l">/24</span></span></span></code></pre></div><p><a href="#R-image-e929a65a39009a84c4419b4e4557ecb6" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/64e468b1b83fe3b9a0122105b58b389f6c07910d_2_690x383.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e929a65a39009a84c4419b4e4557ecb6"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/64e468b1b83fe3b9a0122105b58b389f6c07910d_2_690x383.jpeg"></a></p>
<p>修改完后记得重启下盒子
然后就可以愉快的远程访问啦</p>
<p><a href="#R-image-9d4dff90eecc3b3fde8b542a2d01766a" class="lightbox-link"><img alt="image" class="bg-white border lazy lightbox noshadow figure-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/4e6b816376cee4395a5794dea3d6eda17aff3b61_2_563x500.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9d4dff90eecc3b3fde8b542a2d01766a"><img alt="image" class="bg-white border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://www.ha-box.xyz/uploads/default/optimized/1X/4e6b816376cee4395a5794dea3d6eda17aff3b61_2_563x500.png"></a></p>

            <footer class="footline">
            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="../js/clipboard.min.js?1724502964" defer></script>
    <script src="../js/perfect-scrollbar.min.js?1724502964" defer></script>
    <script src="../js/theme.js?1724502964" defer></script>
  </body>
</html>
